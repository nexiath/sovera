exports.id=341,exports.ids=[341],exports.modules={9435:(e,t,r)=>{Promise.resolve().then(r.bind(r,4432)),Promise.resolve().then(r.bind(r,4964)),Promise.resolve().then(r.bind(r,4127))},258:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9918,23)),Promise.resolve().then(r.t.bind(r,2057,23)),Promise.resolve().then(r.t.bind(r,6148,23)),Promise.resolve().then(r.t.bind(r,8359,23)),Promise.resolve().then(r.t.bind(r,1860,23)),Promise.resolve().then(r.t.bind(r,2427,23))},4432:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ThemeProvider:()=>a,useTheme:()=>i});var s=r(80),o=r(9885);let n=(0,o.createContext)({theme:"system",setTheme:()=>null});function a({children:e,defaultTheme:t="system",storageKey:r="sovera-theme",attribute:a="class",enableSystem:i=!0,...u}){let[l,d]=(0,o.useState)(()=>t);return(0,o.useEffect)(()=>{let e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===l&&i){let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(t);return}e.classList.add(l)},[l,i]),s.jsx(n.Provider,{...u,value:{theme:l,setTheme:e=>{localStorage.setItem(r,e),d(e)}},children:e})}let i=()=>{let e=(0,o.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},4964:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Toaster:()=>a});var s=r(80),o=r(1072),n=r(9941);let a=({...e})=>{let{theme:t="system"}=(0,o.useTheme)();return s.jsx(n.x7,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})}},4127:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthProvider:()=>i,useAuth:()=>u});var s=r(80),o=r(9885);let n=new class{constructor(e){this.token=null,this.baseUrl=e}async request(e,t={}){let r=`${this.baseUrl}${e}`,s=new Headers(t.headers);s.has("Content-Type")||t.body instanceof FormData||s.set("Content-Type","application/json"),this.token&&s.set("Authorization",`Bearer ${this.token}`);try{let e=await fetch(r,{...t,headers:s});if(!e.ok){let t=await e.json().catch(()=>({})),r=`HTTP error! status: ${e.status}`;throw t.detail&&(Array.isArray(t.detail)?r=t.detail.map(e=>e.msg||e.detail).join(", "):"string"==typeof t.detail&&(r=t.detail)),Error(r)}let o=await e.json();return{success:!0,data:o}}catch(e){return console.error("API Error:",e),{success:!1,error:e instanceof Error?e.message:"An error occurred"}}}setToken(e){this.token=e}async login(e,t){let r=new URLSearchParams;return r.append("username",e),r.append("password",t),this.request("/auth/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r})}async register(e,t){return this.request("/auth/register",{method:"POST",body:JSON.stringify({email:e,password:t})})}async getCurrentUser(){return this.request("/auth/me")}async getProjects(){return this.request("/projects/")}async createProject(e,t){return this.request("/projects/",{method:"POST",body:JSON.stringify({name:e,description:t})})}async getProject(e){return this.request(`/projects/${e}`)}async updateProject(e,t){return this.request(`/projects/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteProject(e){return this.request(`/projects/${e}`,{method:"DELETE"})}async getItems(e,t){let r=new URLSearchParams;return r.append("project_id",e.toString()),t&&Object.entries(t).forEach(([e,t])=>{void 0!==t&&r.append(e,t.toString())}),this.request(`/items/?${r.toString()}`)}async createItem(e,t,r){return this.request(`/items/?project_id=${e}`,{method:"POST",body:JSON.stringify({label:t,content:r}),headers:{"Content-Type":"application/json"}})}async updateItem(e,t,r,s){let o={};return void 0!==r&&(o.label=r),void 0!==s&&(o.content=s),this.request(`/items/${t}?project_id=${e}`,{method:"PUT",body:JSON.stringify(o)})}async deleteItem(e,t){return this.request(`/items/${t}?project_id=${e}`,{method:"DELETE"})}async uploadFile(e){let t=new FormData;return t.append("file",e),this.request("/files/upload/",{method:"POST",headers:{},body:t})}async getFiles(){return this.request("/files/files/")}async getFileUrl(e){return this.request(`/files/file/${e}`)}async deleteFile(e){return this.request(`/files/file/${e}`,{method:"DELETE"})}async getSystemInfo(){return this.request("/system/info")}async pingHosts(){return this.request("/system/ping")}async getSystemLogs(){return this.request("/system/logs")}async createBackup(){return this.request("/system/backup",{method:"POST"})}}("http://localhost:8000"),a=(0,o.createContext)(void 0);function i({children:e}){let[t,r]=(0,o.useState)(null),[i,u]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=async()=>{u(!1)};e()},[]);let l=async(e,t)=>{let s=await n.login(e,t);if(s.success&&s.data){let{access_token:e}=s.data;n.setToken(e);let t=await n.getCurrentUser();if(t.success&&t.data)r(t.data);else throw Error("Impossible de r\xe9cup\xe9rer les informations utilisateur")}else{let e="Erreur de connexion. Veuillez v\xe9rifier vos identifiants.";throw s.error&&(e=s.error),Error(e)}},d=async e=>{throw Error("Magic link non impl\xe9ment\xe9")},c=async(e,t,r)=>{let s=await n.register(e,t);if(s.success&&s.data);else{let e="Erreur lors de l'inscription. Veuillez r\xe9essayer.";throw s.error&&(e=s.error),Error(e)}};return s.jsx(a.Provider,{value:{user:t,login:l,loginWithMagicLink:d,register:c,logout:()=>{r(null),n.setToken(null)},loading:i},children:e})}function u(){let e=(0,o.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9111:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v,metadata:()=>f});var s=r(8144);r(7272);var o=r(7536);let n=(0,o.createProxy)(String.raw`/home/mama/Sovera/project/frontend/components/theme-provider.tsx`),{__esModule:a,$$typeof:i}=n;n.default;let u=n.ThemeProvider;n.useTheme;let l=(0,o.createProxy)(String.raw`/home/mama/Sovera/project/frontend/components/ui/sonner.tsx`),{__esModule:d,$$typeof:c}=l;l.default;let h=l.Toaster,m=(0,o.createProxy)(String.raw`/home/mama/Sovera/project/frontend/lib/auth-context.tsx`),{__esModule:p,$$typeof:y}=m;m.default;let g=m.AuthProvider;m.useAuth;let f={title:"Sovera - Plateforme souveraine",description:"Alternative fran\xe7aise \xe0 Supabase - Auto-h\xe9bergeable et open source"};function v({children:e}){return(0,s.jsxs)("html",{lang:"fr",children:[s.jsx("head",{children:s.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap",rel:"stylesheet"})}),s.jsx("body",{className:"font-roboto",children:s.jsx(u,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:(0,s.jsxs)(g,{children:[e,s.jsx(h,{})]})})})]})}},7272:()=>{}};