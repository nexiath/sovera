(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},543:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>h,pages:()=>u,routeModule:()=>p,tree:()=>d});var s=r(3137),a=r(4647),i=r(4183),n=r.n(i),l=r(1775),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=s.AppPageRouteModule,d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8156)),"/home/mama/Sovera/project/frontend/app/dashboard/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,4436)),"/home/mama/Sovera/project/frontend/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9111)),"/home/mama/Sovera/project/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,1918,23)),"next/dist/client/components/not-found-error"]}],u=["/home/mama/Sovera/project/frontend/app/dashboard/page.tsx"],h="/dashboard/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new c({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6580:(e,t,r)=>{Promise.resolve().then(r.bind(r,784))},4957:(e,t,r)=>{Promise.resolve().then(r.bind(r,7700))},784:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var s=r(80),a=r(9885),i=r(7114),n=r(637),l=r(8384),o=r(5879),c=r(9458),d=r(4678),u=r(1264),h=r(3161);let m=o.fC;o.ZA;let p=o.B4,x=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(o.xz,{ref:a,className:(0,h.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(o.JO,{asChild:!0,children:s.jsx(c.Z,{className:"h-4 w-4 opacity-50"})})]}));x.displayName=o.xz.displayName;let j=a.forwardRef(({className:e,...t},r)=>s.jsx(o.u_,{ref:r,className:(0,h.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(d.Z,{className:"h-4 w-4"})}));j.displayName=o.u_.displayName;let g=a.forwardRef(({className:e,...t},r)=>s.jsx(o.$G,{ref:r,className:(0,h.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(c.Z,{className:"h-4 w-4"})}));g.displayName=o.$G.displayName;let f=a.forwardRef(({className:e,children:t,position:r="popper",...a},i)=>s.jsx(o.h_,{children:(0,s.jsxs)(o.VY,{ref:i,className:(0,h.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[s.jsx(j,{}),s.jsx(o.l_,{className:(0,h.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(g,{})]})}));f.displayName=o.VY.displayName;let b=a.forwardRef(({className:e,...t},r)=>s.jsx(o.__,{ref:r,className:(0,h.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));b.displayName=o.__.displayName;let y=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(o.ck,{ref:a,className:(0,h.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(o.wU,{children:s.jsx(u.Z,{className:"h-4 w-4"})})}),s.jsx(o.eT,{children:t})]}));y.displayName=o.ck.displayName;let v=a.forwardRef(({className:e,...t},r)=>s.jsx(o.Z0,{ref:r,className:(0,h.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));v.displayName=o.Z0.displayName;var w=r(4796),N=r(501),T=r(6995),P=r(9815),_=r(2875),$=r(9546),S=r(1672),Z=r(5987),q=r(2385),k=r(3514),E=r(92);function C({children:e}){let t=(0,i.useRouter)(),r=(0,i.usePathname)(),[o,c]=(0,a.useState)(null),{user:d,logout:u,isAuthenticated:h}=(0,n.tN)(),{projects:j,current_project:g,loadProjects:b,setCurrentProject:v,loadUserMembership:C,membership:R}=(0,n.c8)(),{addToast:O}=(0,n.Es)();(0,a.useEffect)(()=>{h||t.push("/auth/login")},[h,t]),(0,a.useEffect)(()=>{h&&b()},[h,b]),(0,a.useEffect)(()=>{let e=r.match(/\/dashboard\/projects\/(\d+)/);if(e){let t=parseInt(e[1]);c(t);let r=j.find(e=>e.id===t);r&&(v(r),C(t))}else c(null)},[r,j,v,C]);let z=[{name:"Overview",href:"/dashboard",icon:T.Z,current:"/dashboard"===r},{name:"Activity",href:"/dashboard/activity",icon:P.Z,current:"/dashboard/activity"===r}],A=o?[{name:"Tables",href:`/dashboard/projects/${o}/tables`,icon:_.Z},{name:"Files",href:`/dashboard/projects/${o}/files`,icon:$.Z},{name:"Members",href:`/dashboard/projects/${o}/members`,icon:S.Z},{name:"Settings",href:`/dashboard/projects/${o}/settings`,icon:Z.Z}]:[],U=e=>{switch(e.provisioning_status){case"completed":return s.jsx(w.C,{variant:"default",className:"bg-green-100 text-green-800",children:"Ready"});case"pending":return s.jsx(w.C,{variant:"secondary",children:"Provisioning"});case"failed":return s.jsx(w.C,{variant:"destructive",children:"Failed"});default:return s.jsx(w.C,{variant:"outline",children:"Unknown"})}};return h?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"border-b bg-white px-4 py-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Sovera"}),s.jsx(N.Z,{orientation:"vertical",className:"h-6"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Project:"}),(0,s.jsxs)(m,{value:o?.toString()||"",onValueChange:e=>{let r=parseInt(e),s=j.find(e=>e.id===r);s&&(v(s),t.push(`/dashboard/projects/${r}`))},children:[s.jsx(x,{className:"w-48",children:s.jsx(p,{placeholder:"Select a project"})}),s.jsx(f,{children:j.map(e=>s.jsx(y,{value:e.id.toString(),children:(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:e.name}),U(e)]})},e.id))})]}),(0,s.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>t.push("/dashboard/projects/new"),children:[s.jsx(q.Z,{className:"h-4 w-4 mr-1"}),"New Project"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[R&&g&&s.jsx(w.C,{variant:"outline",className:"capitalize",children:R.role}),s.jsx(l.z,{variant:"ghost",size:"sm",children:s.jsx(k.Z,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium",children:d?.email}),s.jsx(l.z,{variant:"ghost",size:"sm",onClick:()=>{u(),t.push("/auth/login")},children:s.jsx(E.Z,{className:"h-4 w-4"})})]})]})]})}),(0,s.jsxs)("div",{className:"flex h-[calc(100vh-73px)]",children:[s.jsx("aside",{className:"w-64 border-r bg-white",children:(0,s.jsxs)("nav",{className:"h-full overflow-y-auto p-4",children:[s.jsx("div",{className:"space-y-2",children:z.map(e=>(0,s.jsxs)(l.z,{variant:e.current?"default":"ghost",className:"w-full justify-start",onClick:()=>t.push(e.href),children:[s.jsx(e.icon,{className:"h-4 w-4 mr-2"}),e.name]},e.name))}),o&&g&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(N.Z,{className:"my-4"}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("div",{className:"px-2 py-1",children:s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:g.name})}),A.map(e=>(0,s.jsxs)(l.z,{variant:r===e.href?"default":"ghost",className:"w-full justify-start",onClick:()=>t.push(e.href),children:[s.jsx(e.icon,{className:"h-4 w-4 mr-2"}),e.name]},e.name))]})]})]})}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsx("div",{className:"p-6",children:e})})]})]}):null}},7700:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var s=r(80),a=r(9885),i=r(7114),n=r(637),l=r(7052),o=r(4796),c=r(9815),d=r(5693);function u({stats:e,projects:t}){return(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Tableau de bord"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Vue d'overview de votre instance Sovera"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(c.Z,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Syst\xe8me op\xe9rationnel"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(e=>{let t=e.icon;return(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(l.ll,{className:"text-sm font-medium",children:e.title}),s.jsx(t,{className:`h-4 w-4 ${e.color}`})]}),(0,s.jsxs)(l.aY,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.value}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.change})]})]},e.title)})}),(0,s.jsxs)(l.Zb,{children:[s.jsx(l.Ol,{children:s.jsx(l.ll,{children:"Projets r\xe9cents"})}),s.jsx(l.aY,{children:s.jsx("div",{className:"space-y-4",children:t.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx(d.Z,{className:"h-8 w-8 text-blue-600"}),(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[(0,s.jsxs)("span",{children:[e.tables," tables"]}),(0,s.jsxs)("span",{children:[e.users," utilisateurs"]}),s.jsx("span",{children:e.storage})]})]})]}),s.jsx(o.C,{variant:"Actif"===e.status?"default":"secondary",children:e.status})]},e.name))})})]})]})}var h=r(8384),m=r(501),p=r(6253),x=r(5441),j=r(4706),g=r(3917),f=r(2385),b=r(2875),y=r(9546),v=r(1672);function w({projects:e,loading:t}){let r=(0,i.useRouter)(),a=e=>{switch(e){case"completed":return s.jsx(p.Z,{className:"h-5 w-5 text-green-500"});case"pending":return s.jsx(x.Z,{className:"h-5 w-5 text-yellow-500"});case"failed":return s.jsx(j.Z,{className:"h-5 w-5 text-red-500"});default:return s.jsx(g.Z,{className:"h-5 w-5 text-gray-500"})}},n=e=>{switch(e){case"completed":return s.jsx(o.C,{className:"bg-green-100 text-green-800",children:"Ready"});case"pending":return s.jsx(o.C,{variant:"secondary",children:"Provisioning"});case"failed":return s.jsx(o.C,{variant:"destructive",children:"Failed"});default:return s.jsx(o.C,{variant:"outline",children:"Unknown"})}},c={total:e.length,ready:e.filter(e=>"completed"===e.provisioning_status).length,pending:e.filter(e=>"pending"===e.provisioning_status).length,failed:e.filter(e=>"failed"===e.provisioning_status).length};return t?(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>(0,s.jsxs)(l.Zb,{children:[s.jsx(l.Ol,{className:"pb-2",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),s.jsx(l.aY,{children:s.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"})})]},e))})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),(0,s.jsxs)(h.z,{onClick:()=>r.push("/dashboard/projects/new"),children:[s.jsx(f.Z,{className:"h-4 w-4 mr-2"}),"New Project"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)(l.Zb,{children:[s.jsx(l.Ol,{className:"pb-2",children:s.jsx(l.ll,{className:"text-sm font-medium",children:"Total Projects"})}),(0,s.jsxs)(l.aY,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c.total}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All your projects"})]})]}),(0,s.jsxs)(l.Zb,{children:[s.jsx(l.Ol,{className:"pb-2",children:s.jsx(l.ll,{className:"text-sm font-medium",children:"Ready"})}),(0,s.jsxs)(l.aY,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.ready}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fully provisioned"})]})]}),(0,s.jsxs)(l.Zb,{children:[s.jsx(l.Ol,{className:"pb-2",children:s.jsx(l.ll,{className:"text-sm font-medium",children:"Provisioning"})}),(0,s.jsxs)(l.aY,{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:c.pending}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Being set up"})]})]}),(0,s.jsxs)(l.Zb,{children:[s.jsx(l.Ol,{className:"pb-2",children:s.jsx(l.ll,{className:"text-sm font-medium",children:"Failed"})}),(0,s.jsxs)(l.aY,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.failed}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Need attention"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Your Projects"}),0===e.length?s.jsx(l.Zb,{children:(0,s.jsxs)(l.aY,{className:"flex flex-col items-center justify-center py-16",children:[s.jsx(b.Z,{className:"h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No projects yet"}),s.jsx("p",{className:"text-gray-500 text-center mb-4",children:"Get started by creating your first project. You'll get a dedicated database and storage."}),(0,s.jsxs)(h.z,{onClick:()=>r.push("/dashboard/projects/new"),children:[s.jsx(f.Z,{className:"h-4 w-4 mr-2"}),"Create Project"]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,s.jsxs)(l.Zb,{className:"hover:shadow-md transition-shadow",children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(l.ll,{className:"text-lg",children:e.name}),a(e.provisioning_status)]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(l.SZ,{className:"flex-1",children:e.description||"No description"}),n(e.provisioning_status)]})]}),s.jsx(l.aY,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Created"}),s.jsx("p",{className:"font-medium",children:new Date(e.created_at).toLocaleDateString()})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Storage"}),(0,s.jsxs)("p",{className:"font-medium",children:[e.storage_limit_mb," MB"]})]})]}),s.jsx(m.Z,{}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)(h.z,{variant:"outline",size:"sm",onClick:()=>r.push(`/dashboard/projects/${e.id}/tables`),disabled:"completed"!==e.provisioning_status,children:[s.jsx(b.Z,{className:"h-4 w-4 mr-1"}),"Tables"]}),(0,s.jsxs)(h.z,{variant:"outline",size:"sm",onClick:()=>r.push(`/dashboard/projects/${e.id}/files`),disabled:"completed"!==e.provisioning_status,children:[s.jsx(y.Z,{className:"h-4 w-4 mr-1"}),"Files"]})]}),(0,s.jsxs)(h.z,{variant:"outline",size:"sm",onClick:()=>r.push(`/dashboard/projects/${e.id}/members`),disabled:"completed"!==e.provisioning_status,children:[s.jsx(v.Z,{className:"h-4 w-4 mr-1"}),"Members"]})]})]})})]},e.id))})]})]})}function N(){(0,i.useRouter)();let{projects:e,loadProjects:t,loading:r,error:l}=(0,n.c8)(),{addToast:o}=(0,n.Es)();(0,a.useEffect)(()=>{t()},[t]),(0,a.useEffect)(()=>{l&&o({title:"Error",description:l,type:"error"})},[l,o]);let c=[{title:"Total Projects",value:e.length.toString(),change:"All your projects",icon:d.Z,color:"text-blue-600"},{title:"Ready",value:e.filter(e=>"completed"===e.provisioning_status).length.toString(),change:"Fully provisioned",icon:p.Z,color:"text-green-600"},{title:"Provisioning",value:e.filter(e=>"pending"===e.provisioning_status).length.toString(),change:"Being set up",icon:x.Z,color:"text-yellow-600"},{title:"Failed",value:e.filter(e=>"failed"===e.provisioning_status).length.toString(),change:"Need attention",icon:j.Z,color:"text-red-600"}],h=e.map(e=>({name:e.name,status:"completed"===e.provisioning_status?"Actif":"En d\xe9veloppement",tables:0,users:0,storage:`${e.storage_limit_mb} MB`}));return(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx(u,{stats:c,projects:h}),s.jsx(w,{projects:e,loading:r})]})}},4796:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var s=r(80);r(9885);var a=r(1971),i=r(3161);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...r}){return s.jsx("div",{className:(0,i.cn)(n({variant:t}),e),...r})}},501:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(80),a=r(9885),i=r(2299),n=r(3161);let l=a.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},l)=>s.jsx(i.f,{ref:l,decorative:r,orientation:t,className:(0,n.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a}));l.displayName=i.f.displayName},637:(e,t,r)=>{"use strict";r.d(t,{tN:()=>l,c8:()=>o,Es:()=>c});var s=r(9715),a=r(8228);let i=new class{constructor(e="http://localhost:8000"){this.baseUrl=e}setAuthToken(e){this.authToken=e}clearAuthToken(){this.authToken=void 0}async request(e,t={}){let r=`${this.baseUrl}${e}`,s={"Content-Type":"application/json",...t.headers};this.authToken&&(s.Authorization=`Bearer ${this.authToken}`);let a={...t,headers:s};try{let e=await fetch(r,a);if(!e.ok){let t=await e.json().catch(()=>({detail:"Unknown error"})),r={detail:t.detail||`HTTP ${e.status}: ${e.statusText}`,status_code:e.status};throw r}let t=e.headers.get("content-type");if(t&&t.includes("application/json"))return e.json();return e.text()}catch(e){if(e instanceof Error&&"status_code"in e)throw e;throw{detail:e instanceof Error?e.message:"Network error",status_code:0}}}async login(e){let t=new FormData;return t.append("username",e.username),t.append("password",e.password),this.request("/auth/login",{method:"POST",body:t,headers:{}})}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify(e)})}async getCurrentUser(){return this.request("/auth/me")}async getProjects(){return this.request("/projects/")}async getProject(e){return this.request(`/projects/${e}`)}async createProject(e){return this.request("/projects/",{method:"POST",body:JSON.stringify(e)})}async updateProject(e,t){return this.request(`/projects/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteProject(e){return this.request(`/projects/${e}`,{method:"DELETE"})}async getProjectMembers(e){return this.request(`/projects/${e}/members`)}async inviteUserToProject(e,t){return this.request(`/projects/${e}/members/invite`,{method:"POST",body:JSON.stringify({...t,project_id:e})})}async updateProjectMember(e,t,r){return this.request(`/projects/${e}/members/${t}`,{method:"PATCH",body:JSON.stringify(r)})}async removeProjectMember(e,t){return this.request(`/projects/${e}/members/${t}`,{method:"DELETE"})}async getUserInvitations(){return this.request("/invitations")}async acceptInvitation(e){return this.request(`/invitations/${e}/accept`,{method:"POST"})}async rejectInvitation(e){return this.request(`/invitations/${e}/reject`,{method:"POST"})}async getUserMembership(e){return this.request(`/projects/${e}/members/me`)}async getTables(e){return this.request(`/projects/${e}/tables/`)}async createTable(e,t){return this.request(`/projects/${e}/tables/`,{method:"POST",body:JSON.stringify(t)})}async getTableSchema(e,t){return this.request(`/projects/${e}/tables/${t}/schema`)}async dropTable(e,t){return this.request(`/projects/${e}/tables/${t}`,{method:"DELETE"})}async getTableRows(e,t,r){let s=new URLSearchParams;r?.limit&&s.append("limit",r.limit.toString()),r?.offset&&s.append("offset",r.offset.toString());let a=s.toString(),i=`/projects/${e}/tables/${t}/rows${a?`?${a}`:""}`;return this.request(i)}async insertTableRow(e,t,r){return this.request(`/projects/${e}/tables/${t}/rows`,{method:"POST",body:JSON.stringify(r)})}async updateTableRow(e,t,r,s){return this.request(`/projects/${e}/tables/${t}/rows/${r}`,{method:"PUT",body:JSON.stringify(s)})}async deleteTableRow(e,t,r){return this.request(`/projects/${e}/tables/${t}/rows/${r}`,{method:"DELETE"})}async getFiles(e){return this.request(`/projects/${e}/files/`)}async uploadFile(e,t,r){let s=new FormData;return s.append("file",t),r&&s.append("path",r),this.request(`/projects/${e}/files/upload`,{method:"POST",body:s,headers:{}})}async deleteFile(e,t){return this.request(`/projects/${e}/files/${t}`,{method:"DELETE"})}async getFileDownloadUrl(e,t){return`${this.baseUrl}/projects/${e}/files/${t}`}async getDashboardStats(){return this.request("/dashboard/stats")}async getRecentActivity(){return this.request("/dashboard/activity")}createWebSocketConnection(e,t){let r=this.baseUrl.replace("http","ws"),s=new WebSocket(`${r}/ws/projects/${e}/tables/${t}`);return s}};function n(e){switch(e.status_code){case 401:return"Authentication required. Please log in.";case 403:return"Access denied. You do not have permission to perform this action.";case 404:return"Resource not found.";case 409:return"Conflict. The resource already exists.";case 422:return"Validation error. Please check your input.";case 500:return"Server error. Please try again later.";default:return e.detail||"An unexpected error occurred."}}let l=(0,s.Ue)()((0,a.tJ)((e,t)=>({user:null,isAuthenticated:!1,loading:!1,error:null,login:async(t,r)=>{e({loading:!0,error:null});try{let s=await i.login({username:t,password:r});i.setAuthToken(s.access_token);let a=await i.getCurrentUser();e({user:a,isAuthenticated:!0,loading:!1})}catch(t){throw e({error:n(t),loading:!1}),t}},register:async(r,s)=>{e({loading:!0,error:null});try{let a=await i.register({email:r,password:s});e({user:a,loading:!1}),await t().login(r,s)}catch(t){throw e({error:n(t),loading:!1}),t}},logout:()=>{i.clearAuthToken(),e({user:null,isAuthenticated:!1,error:null})},checkAuth:async()=>{},clearError:()=>e({error:null})}),{name:"auth-storage",storage:(0,a.FL)(()=>localStorage),partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})})),o=(0,s.Ue)((e,t)=>({current_project:void 0,projects:[],members:[],membership:void 0,loading:!1,error:void 0,loadProjects:async()=>{e({loading:!0,error:void 0});try{let t=await i.getProjects();e({projects:t,loading:!1})}catch(t){e({error:n(t),loading:!1})}},loadProject:async t=>{e({loading:!0,error:void 0});try{let r=await i.getProject(t);e({current_project:r,loading:!1})}catch(t){e({error:n(t),loading:!1})}},createProject:async t=>{e({loading:!0,error:void 0});try{let r=await i.createProject(t);return e(e=>({projects:[...e.projects,r],loading:!1})),r}catch(t){throw e({error:n(t),loading:!1}),t}},updateProject:async(t,r)=>{e({loading:!0,error:void 0});try{let s=await i.updateProject(t,r);e(e=>({projects:e.projects.map(e=>e.id===t?s:e),current_project:e.current_project?.id===t?s:e.current_project,loading:!1}))}catch(t){throw e({error:n(t),loading:!1}),t}},deleteProject:async t=>{e({loading:!0,error:void 0});try{await i.deleteProject(t),e(e=>({projects:e.projects.filter(e=>e.id!==t),current_project:e.current_project?.id===t?void 0:e.current_project,loading:!1}))}catch(t){throw e({error:n(t),loading:!1}),t}},loadMembers:async t=>{e({loading:!0,error:void 0});try{let r=await i.getProjectMembers(t);e({members:r,loading:!1})}catch(t){e({error:n(t),loading:!1})}},inviteMember:async(t,r)=>{e({loading:!0,error:void 0});try{let s=await i.inviteUserToProject(t,r);e(e=>({members:[...e.members,s],loading:!1}))}catch(t){throw e({error:n(t),loading:!1}),t}},removeMember:async(t,r)=>{e({loading:!0,error:void 0});try{await i.removeProjectMember(t,r),e(e=>({members:e.members.filter(e=>e.id!==r),loading:!1}))}catch(t){throw e({error:n(t),loading:!1}),t}},loadUserMembership:async t=>{try{let r=await i.getUserMembership(t);e({membership:r})}catch(t){e({error:n(t)})}},setCurrentProject:t=>{e({current_project:t})},clearError:()=>e({error:void 0})}));(0,s.Ue)((e,t)=>({tables:[],currentTable:{data:[],columns:[],loading:!1,pagination:{page:1,per_page:10,total:0,total_pages:0}},loading:!1,error:void 0,loadTables:async t=>{e({loading:!0,error:void 0});try{let r=await i.getTables(t);e({tables:r,loading:!1})}catch(t){e({error:n(t),loading:!1})}},createTable:async(r,s)=>{e({loading:!0,error:void 0});try{await i.createTable(r,s),await t().loadTables(r),e({loading:!1})}catch(t){throw e({error:n(t),loading:!1}),t}},dropTable:async(r,s)=>{e({loading:!0,error:void 0});try{await i.dropTable(r,s),await t().loadTables(r),e({loading:!1})}catch(t){throw e({error:n(t),loading:!1}),t}},loadTableData:async(t,r,s)=>{e(e=>({currentTable:{...e.currentTable,loading:!0,error:void 0}}));try{let[a,n]=await Promise.all([i.getTableRows(t,r,s),i.getTableSchema(t,r)]);e(e=>({currentTable:{...e.currentTable,data:a,columns:n.columns||[],loading:!1,pagination:{...e.currentTable.pagination,page:Math.floor((s?.offset||0)/(s?.limit||10))+1,per_page:s?.limit||10}}}))}catch(t){e(e=>({currentTable:{...e.currentTable,loading:!1,error:n(t)}}))}},insertRow:async(t,r,s)=>{try{let a=await i.insertTableRow(t,r,s);e(e=>({currentTable:{...e.currentTable,data:[...e.currentTable.data,a.data]}}))}catch(t){throw e(e=>({currentTable:{...e.currentTable,error:n(t)}})),t}},updateRow:async(t,r,s,a)=>{try{let n=await i.updateTableRow(t,r,s,a);e(e=>({currentTable:{...e.currentTable,data:e.currentTable.data.map(e=>e.id===s?n:e)}}))}catch(t){throw e(e=>({currentTable:{...e.currentTable,error:n(t)}})),t}},deleteRow:async(t,r,s)=>{try{await i.deleteTableRow(t,r,s),e(e=>({currentTable:{...e.currentTable,data:e.currentTable.data.filter(e=>e.id!==s)}}))}catch(t){throw e(e=>({currentTable:{...e.currentTable,error:n(t)}})),t}},clearError:()=>e(e=>({error:void 0,currentTable:{...e.currentTable,error:void 0}}))})),(0,s.Ue)((e,t)=>({files:[],loading:!1,error:void 0,loadFiles:async t=>{e({loading:!0,error:void 0});try{let r=await i.getFiles(t);e({files:r,loading:!1})}catch(t){e({error:n(t),loading:!1})}},uploadFile:async(t,r,s)=>{e({loading:!0,error:void 0});try{let a=await i.uploadFile(t,r,s);e(e=>({files:[...e.files,a],loading:!1}))}catch(t){throw e({error:n(t),loading:!1}),t}},deleteFile:async(t,r)=>{e({loading:!0,error:void 0});try{await i.deleteFile(t,r),e(e=>({files:e.files.filter(e=>e.filename!==r),loading:!1}))}catch(t){throw e({error:n(t),loading:!1}),t}},clearError:()=>e({error:void 0})}));let c=(0,s.Ue)(e=>({toasts:[],addToast:t=>{let r=Math.random().toString(36).substr(2,9),s={...t,id:r};e(e=>({toasts:[...e.toasts,s]})),setTimeout(()=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==r)}))},t.duration||5e3)},removeToast:t=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==t)}))},clearToasts:()=>e({toasts:[]})}))},4436:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var s=r(7536);let a=(0,s.createProxy)(String.raw`/home/mama/Sovera/project/frontend/app/dashboard/layout.tsx`),{__esModule:i,$$typeof:n}=a,l=a.default,o=l},8156:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var s=r(7536);let a=(0,s.createProxy)(String.raw`/home/mama/Sovera/project/frontend/app/dashboard/page.tsx`),{__esModule:i,$$typeof:n}=a,l=a.default,o=l}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[163,868,354,341,830],()=>r(543));module.exports=s})();